(this["webpackJsonpget-scripts"]=this["webpackJsonpget-scripts"]||[]).push([[0],{38:function(e,t,n){e.exports=n(77)},60:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(18),l=n.n(o),c=n(6),i=n(1),u=n(2),s=n(4),h=n(3),p=n(5),m=n(13),f=n.n(m),d=new(function(){function e(){Object(i.a)(this,e),this.auth=f.a.create({baseURL:"https://ve-borrow.herokuapp.com",withCredentials:!0})}return Object(u.a)(e,[{key:"signup",value:function(e){var t=e.firstName,n=e.lastName,a=e.email,r=e.phoneNumber,o=e.password;return this.auth.post("/auth/signup",{firstName:t,lastName:n,email:a,phoneNumber:r,password:o}).then((function(e){return e.data}))}},{key:"login",value:function(e){var t=e.email,n=e.password;return this.auth.post("/auth/login",{email:t,password:n}).then((function(e){return e.data}))}},{key:"logout",value:function(){return this.auth.post("/auth/logout",{}).then((function(e){return e.data}))}},{key:"me",value:function(){return this.auth.get("/auth/me").then((function(e){return e.data}))}}]),e}()),b=r.a.createContext(),v=b.Consumer,g=b.Provider,E=function(e){return function(t){function n(){return Object(i.a)(this,n),Object(s.a)(this,Object(h.a)(n).apply(this,arguments))}return Object(p.a)(n,t),Object(u.a)(n,[{key:"render",value:function(){var t=this;return r.a.createElement(v,null,(function(n){var a=n.login,o=n.signup,l=n.logout,c=n.user,i=n.isLoggedIn;return r.a.createElement(e,Object.assign({user:c,isLoggedIn:i,login:a,signup:o,logout:l},t.props))}))}}]),n}(a.Component)},w=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={isLoggedIn:!1,user:null,isLoading:!0},n.signup=function(e,t,a,r,o){d.signup({firstName:e,lastName:t,email:a,phoneNumber:r,password:o}).then((function(e){return n.setState({isLoggedIn:!0,user:e})})).catch((function(e){return console.log(e)}))},n.login=function(e,t){d.login({email:e,password:t}).then((function(e){return n.setState({isLoggedIn:!0,user:e})})).catch((function(e){return console.log(e)}))},n.logout=function(){d.logout().then((function(){return n.setState({isLoggedIn:!1,user:null})})).catch((function(e){return console.log(e)}))},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;d.me().then((function(t){return e.setState({isLoggedIn:!0,user:t,isLoading:!1})})).catch((function(t){return e.setState({isLoggedIn:!1,user:null,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.isLoggedIn,a=e.user,o=this.login,l=this.logout,c=this.signup;return r.a.createElement(g,{value:{isLoading:t,isLoggedIn:n,user:a,login:o,logout:l,signup:c}},this.props.children)}}]),t}(r.a.Component),y=(n(60),n(16)),j=E(function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.logout,a=e.isLoggedIn;return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement(c.b,{to:"/",id:"home-btn"},r.a.createElement("h4",null,"Home")),a?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"username: ",t.firstName),r.a.createElement("button",{onClick:n},"Logout"),r.a.createElement(c.b,{to:"/my-profile"},"Profile"),r.a.createElement(c.b,{to:"/my-vehicles"},"Vehicles"),r.a.createElement(c.b,{to:"/search"},"Search"),r.a.createElement(c.b,{to:"/notifications"},"Notifications"),r.a.createElement(c.b,{to:"/create-vehicle"},"Create vehicle")):r.a.createElement(r.a.Fragment,null,r.a.createElement(c.b,{to:"/login"}," ",r.a.createElement("button",{className:"navbar-button"},"Login")," "),r.a.createElement("br",null),r.a.createElement(c.b,{to:"/signup"}," ",r.a.createElement("button",{className:"navbar-button"},"Sign Up")," ")))}}]),t}(a.Component));var O=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Home Page"))},N=n(15),C=E(function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={firstName:"",lastName:"",email:"",phoneNumber:"",password:""},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.firstName,r=t.lastName,o=t.email,l=t.phoneNumber,c=t.password;n.props.signup(a,r,o,l,c)},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(N.a)({},a,r))},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.firstName,n=e.lastName,a=e.email,o=e.phoneNumber,l=e.password;return r.a.createElement("div",null,r.a.createElement("h1",null,"Sign Up"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"First name:"),r.a.createElement("input",{type:"text",name:"firstName",value:t,onChange:this.handleChange}),r.a.createElement("label",null,"Last name:"),r.a.createElement("input",{type:"text",name:"lastName",value:n,onChange:this.handleChange}),r.a.createElement("label",null,"email:"),r.a.createElement("input",{type:"text",name:"email",value:a,onChange:this.handleChange}),r.a.createElement("label",null,"phoneNumber:"),r.a.createElement("input",{type:"text",name:"phoneNumber",value:o,onChange:this.handleChange}),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:l,onChange:this.handleChange}),r.a.createElement("input",{type:"submit",value:"Signup"})),r.a.createElement("p",null,"Already have account?"),r.a.createElement(c.b,{to:"/login"}," Login"))}}]),t}(a.Component)),k=E(function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.email,r=t.password;n.props.login(a,r)},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(N.a)({},a,r))},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.password;return r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"email:"),r.a.createElement("input",{type:"text",name:"email",value:t,onChange:this.handleChange}),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:n,onChange:this.handleChange}),r.a.createElement("input",{type:"submit",value:"Login"})))}}]),t}(a.Component)),I=E(function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Private Route"),r.a.createElement("h1",null,"Welcome ",this.props.user.firstName),r.a.createElement("p",null,this.props.user.secondName),r.a.createElement("p",null,this.props.user.phoneNumber),r.a.createElement("p",null,this.props.user.email),r.a.createElement("p",null,this.props.user.owner),r.a.createElement("p",null,this.props.user.borrow),r.a.createElement(c.b,{to:"my-profile"},"PROFILE"))}}]),t}(a.Component)),S=new(function(){function e(){Object(i.a)(this,e),this.user=f.a.create({baseURL:"".concat("https://ve-borrow.herokuapp.com","/user"),withCredentials:!0})}return Object(u.a)(e,[{key:"deleteUser",value:function(e){return this.user.delete("/".concat(e),{}).then((function(e){return e.data}))}},{key:"updateUser",value:function(e,t,n,a){return this.user.post("/".concat(e),{firstName:t,lastName:n,phoneNumber:a}).then((function(e){return e.data}))}}]),e}()),A=E(function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={firstName:"",lastName:"",phoneNumber:""},n.deleteAccount=function(){S.deleteUser(n.props.user._id).then((function(){return n.props.history.push("/home")})).catch((function(e){return console.log(e)}))},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;d.me().then((function(t){e.setState({firstName:t.firstName,lastName:t.lastName,phoneNumber:t.phoneNumber})}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"PROFILE"),r.a.createElement("h1",null,"USER ",this.state.firstName," ",this.state.secondName),r.a.createElement("p",null,"PhoneNumber ",this.state.phoneNumber),r.a.createElement("p",null,"ID ",this.props.user._id),r.a.createElement("p",null,"Email ",this.props.user.email),this.props.user.owner&&r.a.createElement("p",null,"Is owner"),!this.props.user.owner&&r.a.createElement("p",null,"Is not owner"),r.a.createElement(c.b,{to:"/edit-profile"},"Edit"),r.a.createElement("br",null),r.a.createElement("button",{onClick:this.deleteAccount},"Delete"))}}]),t}(a.Component)),L=E(function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={firstName:"",lastName:"",phoneNumber:""},n.handleSubmit=function(e){e.preventDefault();var t=n.state,a=t.firstName,r=t.lastName,o=t.phoneNumber,l=n.props.user._id;S.updateUser(l,a,r,o).then((function(){return n.props.history.push("my-profile")})).catch((function(e){return console.log(e)}))},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(N.a)({},a,r))},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;d.me().then((function(t){var n=t.firstName,a=t.lastName,r=t.phoneNumber;e.setState({firstName:n,lastName:a,phoneNumber:r})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,"First name"),r.a.createElement("input",{type:"text",name:"firstName",value:this.state.firstName,onChange:this.handleChange}),r.a.createElement("label",null,"Last name"),r.a.createElement("input",{type:"text",name:"lastName",value:this.state.lastName,onChange:this.handleChange}),r.a.createElement("label",null,"Phone number"),r.a.createElement("input",{type:"text",name:"phoneNumber",value:this.state.phoneNumber,onChange:this.handleChange}),r.a.createElement("button",{type:"submit"},"Save")))}}]),t}(a.Component)),V=new(function(){function e(){Object(i.a)(this,e),this.vehicles=f.a.create({baseURL:"".concat("https://ve-borrow.herokuapp.com","/vehicles"),withCredentials:!0})}return Object(u.a)(e,[{key:"getAllUserVehicles",value:function(){return this.vehicles.get().then((function(e){return e.data}))}},{key:"getAllAvailableVehicles",value:function(){return this.vehicles.get("/available").then((function(e){return e.data}))}},{key:"createVehicle",value:function(e){return this.vehicles.post("/",{type:e}).then((function(e){return e.data}))}},{key:"deleteOneVehicle",value:function(e){return this.vehicles.delete("/".concat(e)).then((function(e){return e.data}))}},{key:"updateVehicle",value:function(e,t,n,a){return this.vehicles.put("/".concat(e),{available:t,latitude:n,longitude:a}).then((function(e){return e.data}))}},{key:"getOne",value:function(e){return this.vehicles.get("/".concat(e)).then((function(e){return e.data}))}}]),e}()),x=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={available:"",inUse:"",longitude:"",latitude:""},n.deleteVehicle=function(){n.props.delete(n.props.vehicle._id)},n.turnOff=function(e,t){V.updateVehicle(e,t,null,null).then((function(e){n.setState({available:e.available,longitude:e.longitude,latitude:e.latitude})})).catch((function(e){return console.log(e)}))},n.turnAvailable=function(e,t){var a="",r="";navigator.geolocation.getCurrentPosition((function(o){a=o.coords.latitude,r=o.coords.longitude,V.updateVehicle(e,t,a,r).then((function(e){n.setState({available:e.available,longitude:e.longitude,latitude:e.latitude})})).catch((function(e){return console.log(e)}))}))},n.updateState=function(e){e.preventDefault();var t=n.props.vehicle._id,a=n.state.available,r=!n.state.available;a?n.turnOff(t,r):n.turnAvailable(t,r)},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setState({available:this.props.vehicle.available,inUse:this.props.vehicle.inUse,longitude:this.props.vehicle.longitude,latitude:this.props.vehicle.latitude})}},{key:"render",value:function(){return r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},this.props.vehicle.type),r.a.createElement("p",{className:"card-text"},"..."),this.state.inUse?r.a.createElement("p",null,"Is in use..."):r.a.createElement("div",null,this.state.available?r.a.createElement("button",{className:"btn btn-primary",onClick:this.updateState},"Turn off"):r.a.createElement("button",{className:"btn btn-primary",onClick:this.updateState},"Set available"),r.a.createElement("button",{className:"btn btn-danger",onClick:this.deleteVehicle},"Delete")))))}}]),t}(a.Component),D=E(function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={vehicles:[]},n.deleteVehicle=function(e){V.deleteOneVehicle(e).then((function(){V.getAllUserVehicles().then((function(e){var t=e;n.setState({vehicles:t})}))})).catch((function(e){return console.log(e)}))},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;V.getAllUserVehicles().then((function(t){var n=t;e.setState({vehicles:n})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.vehicles.map((function(t){return r.a.createElement(x,{key:t._id,vehicle:t,delete:e.deleteVehicle})})),r.a.createElement(c.b,{to:"/create-vehicle"}," Create one "))}}]),t}(a.Component)),B=n(20),_={width:"100%",height:"100%"},U=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={latitude:41.4304006,longitude:2.1941694,availableVehicles:[]},n.showAllAvailableVehicles=function(){V.getAllAvailableVehicles().then((function(e){n.setState({availableVehicles:e})})).catch((function(e){return console.log(e)}))},n.showVehicleInfo=function(e){n.props.info(e)},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.showAllAvailableVehicles()}},{key:"render",value:function(){var e=this;return r.a.createElement(B.Map,{google:this.props.google,zoom:16,style:_,initialCenter:{lat:this.state.latitude,lng:this.state.longitude}},this.state.availableVehicles.map((function(t){return r.a.createElement(B.Marker,{key:t._id,position:{lat:Number(t.latitude),lng:Number(t.longitude)},onClick:function(){return e.showVehicleInfo(t._id)}})})))}}]),t}(a.Component),F=Object(B.GoogleApiWrapper)({apiKey:"AIzaSyBzxZbG4XV0JEO9WSh4SxMH-d1EAkr6Kts"})(U),P=new(function(){function e(){Object(i.a)(this,e),this.borrows=f.a.create({baseURL:"".concat("https://ve-borrow.herokuapp.com","/borrow"),withCredentials:!0})}return Object(u.a)(e,[{key:"create",value:function(e,t,n){return this.borrows.post("/",{ownerId:e,vehicleId:t,message:n}).then((function(e){return e.data}))}},{key:"get",value:function(){return this.borrows.get().then((function(e){return e.data}))}},{key:"returnVehicle",value:function(e,t,n,a){return this.borrows.put("/completed/".concat(e),{vehicleId:t,latitude:n,longitude:a}).then((function(e){return e.data}))}},{key:"acceptBorrow",value:function(e,t){return this.borrows.put("/accepted/".concat(e),{vehicleId:t}).then((function(e){return e.data}))}},{key:"rejectBorrow",value:function(e){return this.borrows.put("/rejected/".concat(e)).then((function(e){return e.data}))}}]),e}()),M=E(function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={type:"",ownerName:"",showMessageForm:!1,message:""},n.hideInfo=function(e){e.preventDefault(),n.props.hide()},n.borrowIt=function(e){e.preventDefault();var t=n.state.message;n.props.borrow(t)},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(N.a)({},a,r))},n.completeForm=function(e){e.preventDefault(),n.setState({showMessageForm:!0})},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setState({type:this.props.vehicle.type,ownerName:this.props.vehicle.ownerName})}},{key:"render",value:function(){return r.a.createElement("div",null,this.props.vehicle.ownerId===this.props.user._id?r.a.createElement("div",null,r.a.createElement("h3",null,"Your vehicle"),r.a.createElement("p",null,"Type of vehicle: ",this.state.type)):r.a.createElement("div",null,r.a.createElement("h3",null,"Vehicle info"),r.a.createElement("p",null,"Type of vehicle: ",this.state.type),r.a.createElement("p",null,"Owner: ",this.state.ownerName),this.state.showMessageForm?r.a.createElement("div",null,r.a.createElement("label",null,"How many time you need it mor or less?"),r.a.createElement("input",{type:"text",name:"message",value:this.state.message,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("button",{onClick:this.borrowIt},"Accept")):r.a.createElement("button",{onClick:this.completeForm},"Borrow")),r.a.createElement("button",{onClick:this.hideInfo},"Close info"))}}]),t}(a.Component)),R=E(function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={showInfo:!1,type:"",vehicleId:"",ownerName:"",ownerId:""},n.showInfo=function(e){V.getOne(e).then((function(e){n.setState({showInfo:!0,type:e.type,vehicleId:e._id,ownerName:e.ownerId.firstName,ownerId:e.ownerId._id})})).catch((function(e){return console.log(e)}))},n.hideInfo=function(){n.setState({showInfo:!1})},n.borrowTheVehicle=function(e){var t=n.state.ownerId,a=n.state.vehicleId;P.create(t,a,e).then((function(){n.props.history.push("/notifications")})).catch((function(e){return console.log(e)}))},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"SEARCH"),this.state.showInfo&&r.a.createElement("div",null,r.a.createElement(M,{vehicle:{type:this.state.type,ownerName:this.state.ownerName,ownerId:this.state.ownerId},hide:this.hideInfo,borrow:this.borrowTheVehicle})),r.a.createElement(F,{info:this.showInfo}))}}]),t}(a.Component)),T=E(function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).acceptBorrow=function(e){e.preventDefault(),n.props.accepted()},n.rejectBorrow=function(e){e.preventDefault(),n.props.rejected()},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Type: ",this.props.borrow.vehicleId.type),r.a.createElement("p",null,"Renter name: ",this.props.borrow.renterId.firstName),r.a.createElement("p",null,"Message: ",this.props.borrow.message),this.props.borrow.accepted?r.a.createElement("div",null,this.props.borrow.completed?r.a.createElement("p",null,"Finished!!"):r.a.createElement("p",null,"In use...")):r.a.createElement("div",null,this.props.borrow.rejected?r.a.createElement("p",null,"Rejected"):r.a.createElement("div",null,r.a.createElement("button",{onClick:this.acceptBorrow},"Accept"),r.a.createElement("button",{onClick:this.rejectBorrow},"Reject"))))}}]),t}(a.Component)),H=E(function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).completeBorrow=function(e){e.preventDefault(),n.props.completed()},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Type: ",this.props.borrow.vehicleId.type),r.a.createElement("p",null,"Owner name: ",this.props.borrow.ownerId.firstName),r.a.createElement("p",null,"Your message: ",this.props.borrow.message),r.a.createElement("div",null,this.props.borrow.accepted?r.a.createElement("div",null,this.props.borrow.completed?r.a.createElement("p",null,"Finished!!"):r.a.createElement("button",{onClick:this.completeBorrow},"Return")):r.a.createElement("div",null,this.props.borrow.rejected?r.a.createElement("p",null,"Rejected"):r.a.createElement("p",null,"Pending..."))))}}]),t}(a.Component)),z=E(function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).acceptBorrow=function(){var e=n.props.borrow._id,t=n.props.borrow.vehicleId._id;P.acceptBorrow(e,t).then((function(){return n.props.refreshPage()})).catch((function(e){return console.log(e)}))},n.rejectBorrow=function(){var e=n.props.borrow._id;P.rejectBorrow(e).then((function(){return n.props.refreshPage()})).catch((function(e){return console.log(e)}))},n.completeBorrow=function(){var e=n.props.borrow._id,t=n.props.borrow.vehicleId._id,a="",r="";navigator.geolocation.getCurrentPosition((function(o){a=o.coords.latitude,r=o.coords.longitude,P.returnVehicle(e,t,a,r).then((function(){return n.props.refreshPage()})).catch((function(e){return console.log(e)}))}))},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.borrow.ownerId._id===this.props.user._id?r.a.createElement(T,{borrow:this.props.borrow,accepted:this.acceptBorrow,rejected:this.rejectBorrow}):r.a.createElement(H,{borrow:this.props.borrow,completed:this.completeBorrow}))}}]),t}(a.Component)),J=E(function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={borrows:[]},n.refresh=function(){P.get().then((function(e){n.setState({borrows:e})})).catch((function(e){return console.log(e)}))},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.refresh()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h1",null,"Notifications"),this.state.borrows.map((function(t){return r.a.createElement(z,{key:t._id,borrow:t,refreshPage:e.refresh})})))}}]),t}(a.Component)),W=n(19);var G=E((function(e){var t=e.component,n=e.isLoggedIn,a=Object(W.a)(e,["component","isLoggedIn"]);return r.a.createElement(y.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(y.a,{to:"/private"}):n?void 0:r.a.createElement(t,e)}}))}));var K=E((function(e){var t=e.component,n=e.isLoggedIn,a=Object(W.a)(e,["component","isLoggedIn"]);return r.a.createElement(y.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):n?void 0:r.a.createElement(y.a,{to:"/login"})}}))})),Y=E(function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(h.a)(t).call(this,e))).createNewVehicle=function(e){e.preventDefault(),V.createVehicle(n.state.type).then((function(e){n.setState({type:""}),n.props.history.push("/my-vehicles")}))},n.handleChange=function(e){var t=e.target.value;n.setState({type:t})},n.state={type:""},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.createNewVehicle},r.a.createElement("label",null,"Type"),r.a.createElement("select",{name:"type",value:this.state.type,onChange:this.handleChange},r.a.createElement("option",{defaultValue:!0,value:""},"Select"),r.a.createElement("option",{value:"bike"},"Bike"),r.a.createElement("option",{value:"motorcycle"},"motorcycle"),r.a.createElement("option",{value:"car"},"car"),r.a.createElement("option",{value:"electric scooter"},"electric scooter"),r.a.createElement("option",{value:"scooter"},"scooter")),r.a.createElement("button",{type:"submit"},"Add")))}}]),t}(a.Component)),X=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(j,null),r.a.createElement(y.d,null,r.a.createElement(y.b,{exact:!0,path:"/",component:O}),r.a.createElement(G,{exact:!0,path:"/signup",component:C}),r.a.createElement(G,{exact:!0,path:"/login",component:k}),r.a.createElement(K,{exact:!0,path:"/private",component:I}),r.a.createElement(K,{exact:!0,path:"/my-profile",component:A}),r.a.createElement(K,{exact:!0,path:"/edit-profile",component:L}),r.a.createElement(K,{exact:!0,path:"/my-vehicles",component:D}),r.a.createElement(K,{exact:!0,path:"/create-vehicle",component:Y}),r.a.createElement(K,{exact:!0,path:"/search",component:R}),r.a.createElement(K,{exact:!0,path:"/notifications",component:J})))}}]),t}(a.Component);l.a.render(r.a.createElement(c.a,null,r.a.createElement(w,null,r.a.createElement(X,null))),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.6d3cae31.chunk.js.map